<div ui-view="header"></div>

<div class="wrap">
    <div class="con_box mb25 p30 mt-10">
        <div class="clearfix mb-20">
            <div class="L" style="width:49%;margin-right: 2%;">
                <table class="analy_table">
                    <tr class="tr1">
                        <td></td>
                        <td>访客访问次数</td>
                        <td>有效访问次数</td>
                    </tr>
                    <tr>
                        <td>今日</td>
                        <td>10000</td>
                        <td>8000</td>
                    </tr>
                    <tr>
                        <td>昨日</td>
                        <td>5000</td>
                        <td>4000</td>
                    </tr>
                    <tr>
                        <td>历史最高</td>
                        <td>120000（2017-7-13）</td>
                        <td>120000（2017-7-13）</td>
                    </tr>
                </table>
            </div>
            <div class="visitor_div R bd p20" >
                <div class="visitor_div1 mb-10">
                    今日访客总数
                    <strong class="mr-30">10000</strong>
                    今日问答总数
                    <strong>10000</strong>
                </div>
                <div class="visitor_div1">
                    今日访客总数
                    <strong class="mr-30">10000</strong>
                    今日问答总数
                    <strong>10000</strong>
                </div>
            </div>
        </div>
        <div class="clearfix cus_ser_scene">
            <div class="tab_tit">
                <span class="cur"  onclick="tabtab(this);">访问数据时间统计  </span>
                <span class="" onclick="tabtab(this);">访问数据渠道统计 </span>
            </div>
            <div class="tab_con pt30 pb30">
                <div class="db">
                    <div class="data_time_statis_top " style="width:910px;">
                        <select class="sel bd L mr-5" id="request_time_type">
                            <option value="1">今日</option>
                            <option value="2">昨日</option>
                            <option value="3">过去7天</option>
                            <option value="4">过去30天</option>
                        </select>
                        <select class="sel bd L mr-5" >
                            <option value="">选择渠道</option>
                            <option value="">WEB</option>
                            <option value="">APP</option>
                            <option value="">微信</option>
                        </select>
                        <!--纬度-->
                        <div class="L mr-5" style="width:200px;height:32px;">
                            <div auto-complete  source="" result="" style="width:100%;"></div>
                        </div>
                        <span>
                        日期范围:
                        <input type="text" id="startTime" onclick="WdatePicker({startDate:'%y',dateFmt:'yyyy-MM-dd',maxDate:'#F{$dp.$D(\'endTime\')}'})" class="input-text Wdate " style="width:185px;" placeholder="" readonly> -
                        <input type="text" id="endTime" onclick="WdatePicker({startDate:'%y',dateFmt:'yyyy-MM-dd',minDate:'#F{$dp.$D(\'startTime\')}'})" class="input-text Wdate " style="width:185px;" placeholder="" readonly>
                    </span>
                        <input type="button" class="btn1 btn1_blue" value="查找" />
                    </div>
                    <div class="data_time_statis_bot" >
                        <div class="text-r pt-10">
                            <a href="javascript:;" class=" c-primary" >导出图表</a>
                        </div>
                        <div class="echart_div" id="access_echart_div"  style="width:700px;height:400px">
                            <!--<img src="../../../images/u28570.png" alt="">-->
                        </div>
                        <div>
                            <table class="access_amount_table ">
                                <thead >
                                <tr>
                                    <th width="16%">Column 1</th>
                                    <th width="12%">周一</th>
                                    <th width="12%">周二</th>
                                    <th width="12%">周三</th>
                                    <th width="12%">周四</th>
                                    <th width="12%">周五</th>
                                    <th width="12%">周六</th>
                                    <th width="12%">周日</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>总用户人数</td>
                                    <td>23</td>
                                    <td>34</td>
                                    <td>12</td>
                                    <td>33</td>
                                    <td>44</td>
                                    <td>23</td>
                                    <td>21</td>
                                </tr>
                                <tr>
                                    <td>总会话数</td>
                                    <td>23</td>
                                    <td>34</td>
                                    <td>12</td>
                                    <td>33</td>
                                    <td>44</td>
                                    <td>23</td>
                                    <td>21</td>
                                </tr>
                                <tr>
                                    <td>有效会话数</td>
                                    <td>23</td>
                                    <td>34</td>
                                    <td>12</td>
                                    <td>33</td>
                                    <td>44</td>
                                    <td>23</td>
                                    <td>21</td>
                                </tr>
                                <tr>
                                    <td>有效用户数</td>
                                    <td>23</td>
                                    <td>34</td>
                                    <td>12</td>
                                    <td>33</td>
                                    <td>44</td>
                                    <td>23</td>
                                    <td>21</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="dn" >
                    <div class="data_time_statis_top " style="width:605px;">
                        <select class="sel bd L mr-5" id="request_time_typeId">
                            <option value="1">今日</option>
                            <option value="2">昨日</option>
                            <option value="3">过去7天</option>
                            <option value="4">过去30天</option>
                        </select>
                        <span>
                            日期范围:
                            <input type="text" id="startTimeId" onclick="WdatePicker()" class="input-text Wdate" style="width:185px;" placeholder="请选择生效日期" readonly> -
                            <input type="text" id="endTimeId" onclick="WdatePicker()" class="input-text Wdate " style="width:185px;" placeholder="请选择结束日期" readonly>
                        </span>
                        <input type="button" class="btn1 btn1_blue" value="查找" />
                    </div>
                    <div class="data_time_statis_bot" >
                        <div class="text-r pt-10">
                            <a href="javascript:;" class=" c-primary" >导出图表</a>
                        </div>
                        <div class="echart_div" id="access_echart_div2" style="width:700px;height:400px">
                            <!--<img src="../../../images/u28879.png" alt="">-->
                        </div>
                        <div>
                            <table class="access_amount_table ">
                                <thead >
                                <tr>
                                    <th width="20%">统计项</th>
                                    <th width="20%">总会话数</th>
                                    <th width="20%">总访客数</th>
                                    <th width="20%">有效会话数</th>
                                    <th width="20%">有效访客数</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>微信</td>
                                    <td>2</td>
                                    <td>2</td>
                                    <td>1</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>web</td>
                                    <td>11</td>
                                    <td>62</td>
                                    <td>11</td>
                                    <td>0</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<script>
    function tabtab(obj) {
        $(obj).addClass('cur').siblings().removeClass();
        $(obj).parent().next().children('div').eq($(obj).index()).attr('class', 'db').siblings().attr('class', 'dn');
    }
    //访问数据时间统计
    var myChart = echarts.init(document.getElementById('access_echart_div'));
    // 指定图表的配置项和数据
    option2 = {
        title : {
            text: '访问统计',
            subtext: ''
        },
        tooltip : {
            trigger: 'axis'
        },
        legend: {
            show:true,
            data:['微信','web','app']
        },
        toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                magicType : {show: true, type: ['line', 'bar']},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        calculable : true,
        xAxis : [
            {
                type : 'category',
                boundaryGap : false,
                data : ['微信','web','app']
            }
        ],
        yAxis : [
            {
                type : 'value',
                data : [0,50,100,150,200]
//                axisLabel : {
//                    formatter: '{value} °C'
//                }
            }
        ],
        series : [
            {
                name:'最大值',
                type:'line',
                data:[11, 11, 15, 13, 12, 13, 10],
                markPoint : {
                    data : [
                        {type : 'max', name: '最大值'},
                        {type : 'min', name: '最小值'}
                    ]
                },
                markLine : {
                    data : [
                        {type : 'average', name: '平均值'}
                    ]
                }
            },
            {
                name:'最小值',
                type:'line',
                data:[1, 1.2, 2, 5, 3, 2, 0],
                markPoint : {
                    data : [
                        {name : '周最低', value : -2, xAxis: 1, yAxis: -1.5}
                    ]
                },
                markLine : {
                    data : [
                        {type : 'average', name : '平均值'}
                    ]
                }
            },
            {
                name:'最大值',
                type:'line',
                data:[8, 9, 10, 11, 12, 9, 7],
                markPoint : {
                    data : [
                        {type : 'max', name: '最大值'},
                        {type : 'min', name: '最小值'}
                    ]
                },
                markLine : {
                    data : [
                        {type : 'average', name: '平均值'}
                    ]
                }
            },
            {
                name:'最小值',
                type:'line',
                data:[1, 2, 2, 4, 2, 3, 0],
                markPoint : {
                    data : [
                        {name : '周最低', value : 2, xAxis: 1, yAxis: -1.5}
                    ]
                },
                markLine : {
                    data : [
                        {type : 'average', name : '平均值'}
                    ]
                }
            }
        ]
    };
    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);


    //访问数据渠道统计
    var myChart2 = echarts.init(document.getElementById('access_echart_div2'));
    // 指定图表的配置项和数据
    option = {
        title : {
            text: '某地区蒸发量和降水量',
            subtext: '纯属虚构'
        },
        tooltip : {
            trigger: 'axis'
        },
        legend: {
            data:['蒸发量','降水量']
        },
        toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                magicType : {show: true, type: ['line', 'bar']},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        calculable : true,
        xAxis : [
            {
                type : 'category',
                data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
            }
        ],
        yAxis : [
            {
                type : 'value'
            }
        ],
        series : [
            {
                name:'蒸发量',
                type:'bar',
                data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3],
                markPoint : {
                    data : [
                        {type : 'max', name: '最大值'},
                        {type : 'min', name: '最小值'}
                    ]
                },
                markLine : {
                    data : [
                        {type : 'average', name: '平均值'}
                    ]
                }
            },
            {
                name:'降水量',
                type:'bar',
                data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],
                markPoint : {
                    data : [
                        {name : '年最高', value : 182.2, xAxis: 7, yAxis: 183, symbolSize:18},
                        {name : '年最低', value : 2.3, xAxis: 11, yAxis: 3}
                    ]
                },
                markLine : {
                    data : [
                        {type : 'average', name : '平均值'}
                    ]
                }
            }
        ]
    };
    // 使用刚指定的配置项和数据显示图表。
    myChart2.setOption(option2);

</script>






