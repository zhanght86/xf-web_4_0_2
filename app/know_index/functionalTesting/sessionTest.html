<div ui-view="header"></div>

<div class="wrap pr chat_test_wrap" style="padding-top:10px;">

    <div class="p20 cl" style="background:#fff;height:100%;">
        <div class="L chat_test_l">
            <div class="mb-20 bd chat_test_ltop p20" id="chat_recommend">

                <div class=" chat_test_ltopr">
                    <div class="mb-10" style="border-bottom:1px dashed #bdbdbd;" id="ask">
                        <p class="c-primary bold">测试问法：<span ng-model="question">{{vm.question}}</span></p>

                        <p>标签：<span ng-repeat="v in vm.result.questionTagSet track by $index">{{v}}<i ng-if="$index!=(vm.result.questionTagSet.length-1)">,</i></span></p>

                        <!--<p>分词：<span ng-repeat="v in vm.result.questionSegmentation">{{v}}<i ng-if="$index!=vm.result.questionSegmentation.length-1">,</i></span></p>-->
                        <p>分词：<span ng-repeat="i in vm.result.questionSegmentation track by $index">{{i}}<i ng-if="$index!=(vm.result.questionSegmentation.length-1)">,</i></span></p>
                    </div>
                    <div style="border-bottom:1px dashed #bdbdbd;" id="answer">
                        <p class="c-primary "><span class="bold">标准知识：</span><span >{{vm.result.answerElement.matchExtendAsk}}</span></p>

                        <p>标签：<span ng-repeat="i in vm.result.answerElement.tags track by $index">{{i}}<i ng-if="$index!=(vm.result.answerElement.tags.length-1)">,</i></span></p>

                        <p>相似度：<span >{{vm.result.similarity}}</span></p>

                        <p>分词：<span ng-repeat="i in vm.result.answerElement.segmentation track by $index">{{i}}<i ng-if="$index!=(vm.result.answerElement.segmentation.length-1)">,</i></span></p>

                        <p>答案：<span ng-repeat="i in vm.result.answer track by $index">{{i}}<i ng-if="$index!=(vm.result.answer.length-1)">,</i></p>
                    </div>
                    <div id="recommand">
                    </div>
                </div>
            </div>

            <div class="bd chat_test_lbot pd-10">
                <textarea class="chat_text_txta f-14 " ng-model="vm.testAsking"  placeholder="请输入测试问题"></textarea>
                <div class="mb-10 cl" style="min-height:25px;">
                    <label class="form-label col-xs-3 col-sm-2 text-r">选择服务：</label>
                    <div class="formControls col-xs-9 col-sm-9">
                        <select class="bd" style="height:30px;min-width: 50px" ng-model="vm.serviceId"  ng-options="service.serviceId as service.serviceName for service in vm.listService">
                            <option value="" ng-if="vm.listService.length==0">应用下服务为空</option>
                        </select>
                    </div>
                </div>
                <div class="mb-10 cl" style="min-height:25px;">
                    <label class="form-label col-xs-3 col-sm-2 text-r">渠道：</label>
                    <div class="formControls col-xs-9 col-sm-9">
                        <label class="mr-10" ng-repeat="channel in vm.channelList"><input type="radio" name="channel" ng-click="vm.channel=channel.channelId"/> {{channel.channelName}}</label>
                    </div>
                </div>
                <div class="mb-10 cl" style="min-height:25px;">
                    <label class="form-label col-xs-3 col-sm-2 text-r">维度：</label>
                    <auto-complete class="formControls col-xs-9 col-sm-9" source="vm.listDimension" result="vm.dimensionArray"></auto-complete>
                </div>
                <div class="text-r mt-10">
                    <button class="btn1 btn1_blue mr-10" ng-click="vm.test()">测试</button>
                    <button class="btn1 btn_gray" ng-click="vm.reset()">重置</button>
                </div>
            </div>

        </div>
        <div class="R bd chat_test_r p20" >
            <p>问答流程:</p>
            <div class="flow_chart_wrap" >
                <ul>
                    <li class="clearfix mb-10" ng-repeat="v in vm.result.flowInfo">
                        <p class="flow_name L c-success">{{v.stepName}}</p>
                        <span class="flow_span L ml-10 mr-10">→</span>
                        <div class="flow_con L">{{v.stepInfo}}</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<style>
    .flow_chart_wrap{min-height:430px;overflow-y: auto;}
    .flow_name{width:100px;height:50px;border:1px solid #eee;margin-top:25px;padding:10px;box-sizing:border-box;}
    .flow_span{margin-top:40px;width:20px;display:block;}
    .flow_con{width:290px;height:100px;border:1px solid #eee;overflow:auto;padding:10px;box-sizing:border-box;}
</style>





