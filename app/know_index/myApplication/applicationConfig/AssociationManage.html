<div class="r-cont pd30">
    <div class="r-cont-hd">
        <span>关联管理</span>
    </div>
    <div class="r-cont-bd oh ">
        <div class="con_box  mb25">
            <div class="pr con_box_serl bd mr10" style="margin:0 auto 20px;">
                <input type="text" class="txt L" placeholder=""  style="width:257px;">
                <input type="button" class="btn1" value="查找" >
            </div>
            <div class="mb10 bd p20 cl" style="background:#fcfdfd;border-color:#f2f4f7;">
                <div class="cl mb-20">
                    <button class="L btn1 btn1_blue mr-10" onclick="">关联</button>
                    <button class="btn1 btn_green">取消关联</button>
                </div>
                <div>
                    <table class="stop_word_tab" >
                        <thead>
                        <tr>
                            <th class="bold" width="10%"><input  type="checkbox" id="selectAll" onclick="checkedAll()"/></th>
                            <th class="bold" width="40%">服务名称</th>
                            <th class="bold" width="30%">场景类型</th>
                            <th class="bold" width="20%">状态</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><input  type="checkbox" name="sid" onclick="clear_checked()"/></td>
                            <td>长沙银行信用卡服务</td>
                            <td>客服</td>
                            <td><span>关联</span></td>
                        </tr>
                        <tr>
                            <td><input  type="checkbox" name="sid" onclick="clear_checked()"/></td>
                            <td>湖南电信服务</td>
                            <td>外呼</td>
                            <td><span>取消关联</span></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="tc pt-20">
                    <button class="btn1 btn1_blue">保存</button>
                </div>
            </div>
        </div>
    </div>
</div>
<style>

</style>
<script>
    function clear_checked() {
        var count = 0;
        var ids = document.getElementsByName("sid");
        for (var i = 0; i < ids.length; i++) {
            console.log("============"+!ids[i].checked);
            if (!ids[i].checked) {
                count++;
                $("#selectAll").attr("checked",false);
            }
        }
        console.log("============"+count);
        if(count==0){
            $("#selectAll").prop("checked",true);
        }
    }
    function checkedAll(){
        $("#selectAll").prop("checked",true);
        $("input[name='sid']").prop("checked",true);
    }
</script>