<!--引导页头部遮罩-->
<div class="shadow_div dn" style="height:60px;"></div>
<!--引导页头部遮罩end-->
<div class="wrap knowledgeList">
    <div class="content_wrap page-container" style="padding:0;">
        <div class="wrap mb30">
            <div class="content_box mb25 mt10">
                <div class="cl mb-20">
                    <div class="L">
                        <h3 class="f22 pl-10 mb15" ng-bind="vm.knowledgeId?'列表型知识编辑':'列表型知识新增'"></h3>
                    </div>
                    <a href="javascript:;" class="c_green R" ng-click="vm.showTip();">使用帮助</a>
                </div>
                <div class=" pr">

                    <div class="list_facContent mb-10">
                        <div class="list_facContent_L">知识标题：</div>
                        <div>
                            <input type="text" class="bk-gray input-text " autofocus placeholder="请输入标题"
                                   ng-model="vm.title" name="title" ng-focus="vm.titleTip=''" ng-minlength="1"
                                   ng-maxlength="1000" required style="width:394px;"/>

                            <p class="c-error pd-5" ng-if="vm.titleTip">{{vm.titleTip}}</p>
                        </div>
                    </div>
                    <!-- 时间-->
                    <span select-start-end-time="notDialog"></span>
                    <!--  bot -->
                    <span bot-class-tree="notDialog"></span>
                    <!-- 生成bot列表 -->
                    <div class="exten_problem" ng-if="vm.creatSelectBot.length" ng-repeat="item in  vm.creatSelectBot">
                        <div class="list_facContent mb-10">
                            <div class="list_facContent_L">BOT路径：</div>
                            <div class=" clearfix">
                                <div class="ipt-txt-box L"
                                     style="width: 395px;border: 1px solid #e1e1e1;margin-right: 10px;">
                                    <div class="ipt-txt" style="overflow:hidden;line-height:24px;">
                                        <!--<span>{{item.className.join("/")}}</span>-->
                                        <a title="{{item.className.join('/')}}">{{item.className.join("/")}}</a>
                                    </div>
                                </div>
                                <a href="javascript:;" class="L mr-10 mt-5"><img
                                        src="../../../../images/images/delete_img.png"
                                        ng-click="vm.creatSelectBot.splice($index,1)" alt=""></a>
                            </div>
                        </div>
                    </div>
                    <div class="list_facContent mb-10">
                        <div class="list_facContent_L">业务框架：</div>
                        <div>
                            <select class="input-text" style="width:395px;" ng-model="vm.frameId"
                                    ng-options="frame.frameId as frame.frameTitle for frame in vm.frames">
                                <option value="" ng-if="vm.frames.length">--请选择以上业务框架--</option>
                            </select>
                        </div>
                    </div>
                    <span concept-extension="notDialog" tag="true" api="queryListExtension"></span>
                    <!--手动添加 ext-->
                    <div class="exten_problem" style="overflow: visible"
                         ng-repeat="(itemIndex,item) in vm.extensions track by $index">
                        <div class="list_facContent mb-10">
                            <div class="list_facContent_L">概念扩展：</div>
                            <div>
                                <div class="L extended_query_txt"
                                     style="width:345px;height:35px;border:0;overflow-x: auto;">
                                    <!--{{item.extensionQuestionTagList}}-->
                                       <span ng-repeat="val in item.extensionQuestionTagList track by $index"
                                             ng-class="{' tag_item':true , ' tagExistFalse':!val.exist}">
                                            {{val.tagName}}
                                        </span>
                                </div>
                                <span class="tag_s mr-10 L"
                                      style="background: #e0eaf1;border: 1px solid #eee;height: 25px;line-height: 25px;padding: 0 10px;text-align: center;">{{item.extensionQuestionType==60?'普通':'否定'}}</span>
                                <a href="javascript:;"
                                   ng-click="$parent.knowCtr.rmeoveExtToLocal(vm.knowledgeId,'cust_list_ext',item);vm.extensions.splice($index,1);"
                                   class="L mr-10"><img src="../../../../images/images/delete_img.png" alt=""></a>
                                <span class="L"><b>来源于: </b> <span>{{item.extensionQuestionTitle}}</span></span>
                            </div>
                        </div>
                    </div>
                    <!-- 业务框架 生成ext -->
                    <div class="exten_problem" ng-repeat="(itemIndex,item) in vm.extensionsByFrame">
                        <div class="list_facContent mb-10">
                            <div class="list_facContent_L">概念扩展：</div>
                            <div>
                                <div class="L extended_query_txt"
                                     style="width:345px;height:35px;border:0;overflow-x: auto">
                                   <span ng-repeat="val in item.extensionQuestionTagList"
                                         ng-class="{' tag_item':true , ' tagExistFalse':!val.exist}">
                                        {{val.tagName}}
                                    </span>
                                </div>
                                <span class="tag_s mr-10 L"
                                      style="background: #e0eaf1;border: 1px solid #eee;height: 25px;line-height: 25px;padding: 0 10px;text-align: center;">{{item.extensionQuestionType==60?'普通':'否定'}}</span>
                                <a href="javascript:;"
                                   ng-click="$parent.knowCtr.rmeoveExtToLocal(vm.knowledgeId,'cust_list_ext',item);vm.extensionsByFrame.splice($index,1);"
                                   class="L mr-10"><img src="../../../../images/images/delete_img.png" alt=""></a>
                                <span class="L"><b>来源于: </b> <span>{{item.extensionQuestionTitle}}</span></span>
                            </div>
                        </div>
                    </div>
                    <div class="list_facContent mb-50">
                        <div class="list_facContent_L">知识内容: &nbsp;</div>
                        <div>
                            <div class="clearfix mb-10">
                                <p class="mb-10 f-16">肯定回答:</p>
                                <!--{{vm.newTitle}}-->
                                <textarea class="word_div bd" ng-model="vm.newTitle"
                                          placeholder="例如：#违禁品#是违禁物品，不可以带上飞机"></textarea>
                            </div>
                            <div class="clearfix mb-10">
                                <p class="mb-10 f-16">否定回答:</p>
                                <textarea class="word_div bd" ng-model="vm.knowledgeContentNegative"
                                          placeholder="例如：不是违禁物品，可以带上飞机"></textarea>
                            </div>{{vm.channelIdList}}sdfsdfsd
                            <div know-content-configuration="queryListRelatedQuestion" template-type="false"></div>
                        </div>
                    </div>
                </div>
                <div class="list_facContent " style="margin-bottom:80px;">
                    <div class="list_facContent_L"></div>
                    <div>
                        <input type="button" class="btn1 btn1_blue mr-20" value="预览" ng-click="vm.scan(vm.knowledgeId?'updateListKnow':'storeListKnow')"/>
                        <input type="button" class="btn1 btn_green" ng-disabled="vm.limitSave" ng-click="vm.save(vm.knowledgeId?'updateListKnow':'storeListKnow')"
                               value="保存"/>
                    </div>
                </div>
                <!--引导-->
                <div class="shadow_div dn"></div>
                <div class="step_div ">
                    <div class="step_one dn" id="step_one">
                        <div class="step_one_s">1</div>
                        <div class="step_one_arrow"></div>
                        <div class="step_one_con">
                            <p>知识标题：您只需要填写这个知识的标准的提问方式，然后点击后面的生成按钮，系统会自动生成BOT路径哦~
                            </p>

                            <div class="tr introjs-tooltipbuttons">
                                <button class="introjs-button introjs-skip" ng-click="vm.hideTip()">跳出</button>
                                <button disabled class="c-999 introjs-button introjs-prev"
                                        ng-click="vm.prevDiv($event)">上一步
                                </button>
                                <button class="introjs-button introjs-next" ng-click="vm.nextDiv($event)">下一步</button>
                            </div>
                        </div>
                    </div>
                    <div class="step_one step_two dn" id="step_two">
                        <div class="step_one_s">2</div>
                        <div class="step_one_arrow"></div>
                        <div class="step_one_con">
                            <p>BOT:除了自动生成的BOT路径，您还可以点击选择按钮选择您所希望的BOT类目路径。选好了别忘了点击后面的加号，路径可以添加多个哦~
                            </p>

                            <div class="tr introjs-tooltipbuttons">
                                <button class="introjs-button introjs-skip" ng-click="vm.hideTip()">跳出</button>
                                <button class="introjs-button introjs-prev" ng-click="vm.prevDiv($event)">上一步</button>
                                <button class="introjs-button introjs-next" ng-click="vm.nextDiv($event)">下一步</button>
                            </div>
                        </div>
                    </div>
                    <div class="step_one step_three dn" id="step_three">
                        <div class="step_one_s">3</div>
                        <div class="step_one_arrow"></div>
                        <div class="step_one_con">
                            <p>业务框架：选择完毕路径之后，我们根据目前所选择的BOT，为您列出符合要求的业务框架，您可以选择对应的业务框架以节省编写扩展问的时间。业务框架可以添加多个哦~
                            </p>

                            <div class="tr introjs-tooltipbuttons">
                                <button class="introjs-button introjs-skip" ng-click="vm.hideTip()">跳出</button>
                                <button class="introjs-button introjs-prev" ng-click="vm.prevDiv($event)">上一步</button>
                                <button class="introjs-button introjs-next" ng-click="vm.nextDiv($event)">下一步</button>
                            </div>
                        </div>
                    </div>
                    <div class="step_one step_four dn" id="step_four">
                        <div class="step_one_s">4</div>
                        <div class="step_one_arrow"></div>
                        <div class="step_one_con">
                            <p>扩展问题：您可以自行填写扩展问题，应对问题的多样化.
                            </p>

                            <div class="tr introjs-tooltipbuttons">
                                <button class="introjs-button introjs-skip" ng-click="vm.hideTip()">跳出</button>
                                <button class="introjs-button introjs-prev" ng-click="vm.prevDiv($event)">上一步</button>
                                <button class="introjs-button introjs-next" ng-click="vm.nextDiv($event)">下一步</button>
                            </div>
                        </div>
                    </div>
                    <div class="step_one step_five dn" id="step_five">
                        <div class="step_one_s">5</div>
                        <div class="step_one_arrow"></div>
                        <div class="step_one_con">
                            <p>知识内容：知识内容就是答案，可以根据渠道维度的不同填写多个哦!
                            </p>

                            <div class="tr introjs-tooltipbuttons">
                                <button class="introjs-button introjs-skip" ng-click="vm.hideTip()">跳出</button>
                                <button class="introjs-button introjs-prev" ng-click="vm.prevDiv($event)">上一步</button>
                                <button class="introjs-button introjs-next" ng-click="vm.nextDiv($event)">下一步</button>
                            </div>
                        </div>
                    </div>
                    <div class="step_one step_six dn" id="step_six">
                        <div class="step_one_s">6</div>
                        <div class="step_one_arrow"></div>
                        <div class="step_one_con">
                            <p>渠道维度：渠道和维度的组合是不可以重复的，添加时一定要注意哦!
                            </p>

                            <div class="tr introjs-tooltipbuttons">
                                <button class="introjs-button introjs-skip" ng-click="vm.hideTip()">跳出</button>
                                <button class="introjs-button introjs-prev" ng-click="vm.prevDiv($event)">上一步</button>
                                <button class="introjs-button introjs-next" ng-click="vm.nextDiv($event)">下一步</button>
                            </div>
                        </div>
                    </div>
                    <div class="step_one step_seven dn" id="step_seven">
                        <div class="step_one_s">7</div>
                        <div class="step_one_arrow"></div>
                        <div class="step_one_con">
                            <p>最后一步：编辑完知识可以选择预览，或者保存，就可以啦!
                            </p>

                            <div class="tr introjs-tooltipbuttons">
                                <button class="introjs-button introjs-skip" ng-click="vm.hideTip()">完成</button>
                                <button class="introjs-button introjs-prev" ng-click="vm.prevDiv($event)">上一步</button>
                                <button disabled class="c-999 introjs-button introjs-next"
                                        ng-click="vm.nextDiv($event)">下一步
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!--引导end-->
            </div>
        </div>
    </div>
</div>