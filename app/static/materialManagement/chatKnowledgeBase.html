<div class="main warp chatKnowBase">

    <div class="clearfix bgwhite mt10 cl">
        <div class="r-cont pd30 ">
            <div class="r-cont-hd mb-10">
                <span>聊天知识库</span>
            </div>
            <div class="r-cont-bd">
                <div class="csso-cz-box clearfix  mb-10">
                    <div class="L pr chat_add_div">
                        <p class="bd mr-10 chat_add_p" >FAQ型聊天新增</p>
                        <ul class="bd pa chat_add_ul" >
                            <li><a ui-sref="materialManagement.faqChat">FAQ型聊天新增</a></li>
                            <li><a ui-sref="materialManagement.conceptChat">概念型聊天新增</a></li>
                        </ul>
                    </div>
                    <div class="R">
                        <div class="L mr-10 pr">
                            <div class="clearfix">
                                <input class="input_text L mr-10" ng-model="vm.chatKnowledgeTopic" type="text" placeholder="请输入知识标题" >
                                <button class="btn1 btn1_blue L mr-10 f14" ng-click="vm.search(1)" >查找</button>
                                <button class="L btn se-search-btn advanced_sear_btn" style="border: 1px solid #3ea9fb;" ng-click="vm.searchHeighFlag=!vm.searchHeighFlag">高级查找</button>
                            </div>
                            <div class="advanced_search bd" >
                                <div class="framework mb-10" style="padding-left: 85px;">
                                    <span class="framework_s">知识内容:</span>
                                    <input type="text" ng-model="vm.chatQuestionContent" class="input_text"/>
                                </div>
                                <div class="framework mb-10" style="padding-left: 85px;">
                                    <span class="framework_s">更新时间:</span>
                                    <div>
                                        <label class="mr-10"><input name="time" ng-checked="vm.modifyTimeType==0" ng-click="vm.selectTimeType(0)" type="radio"/>不限</label>
                                        <label class="mr-10"><input name="time" ng-checked="vm.modifyTimeType==1" ng-click="vm.selectTimeType(1)" type="radio"/>近三天</label>
                                        <label class="mr-10"><input name="time" ng-checked="vm.modifyTimeType==2" ng-click="vm.selectTimeType(2)" type="radio"/>近七天</label>
                                        <label><input name="time" ng-checked="vm.modifyTimeType==3" ng-click="vm.selectTimeType(3)" type="radio"/>近一月</label>
                                    </div>
                                </div>
                                <div class="framework mb-10" style="padding-left: 85px;">
                                    <span class="framework_s">作者:</span>
                                    <input type="text" ng-model="vm.chatKnowledgeModifier" class="input_text"/>
                                </div>
                                <div class="tc">
                                    <input type="button" class="btn1 btn1_blue" ng-click="vm.search()" value="高级搜索" style="width:100px;"/>
                                </div>
                            </div>
                        </div>
                        <div class="L mr-10">
                            <div uploader-base ></div>
                        </div>
                        <button class="btn1 L btn_green  mr-10 f14"  ng-click="vm.exportExcel()">知识导出</button>
                        <a href="/api/ms/chatKnowledge/download?fileName=chatKnowledgeTemplate.xls" class="btn1 L btn1_blue2  mr-10" style="line-height:20px;">下载模板</a>
                        <button class="btn1 R btn_delete f14" ng-click="vm.delKnowledge()">刪除</button>
                    </div>
                </div>
                <div class="clearfix csso-bd bd pl-20 pr-20 mt-30" style="min-height:400px;">
                    <ul class="csso-lsit">
                        <li ng-if="vm.listData" ng-repeat="item in vm.listData">
                            <div class="mb-10">
                                <input type="checkbox" style="vertical-align: middle;margin:0px 5px 3px 0;" ng-click="vm.getDel($event,item.chatKnowledgeId)"/>
                                <a  class="c-primary f-16" ng-click="vm.seeDtails(item)">聊天主题：{{item.chatKnowledgeTopic}}</a>
                            </div>
                            <div class="f-14 mb-10">聊天问法个数：{{item.chatQuestionList.length}}</div>
                            <div class="cl">
                                <div class="L">
                                    <span>知识类型：
                                        {{item.chatKnowledgeSource |typeFilter }}
                                    </span>
                                    <span>作者：{{item.chatKnowledgeModifier}}</span>
                                </div>
                                <div class="R">
                                    <span>更新时间：{{item.chatKnowledgeModifyTime | date : 'yyyy-MM-dd HH:mm:ss' }}</span>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <pagination ng-if="vm.paginationConf.totalItems && (vm.paginationConf.totalItems>0)" conf="vm.paginationConf"></pagination>
                </div>
            </div>
        </div>
    </div>

</div>
<style>
    .webuploader-pick{padding:7px 15px;}
    .advanced_search {width:400px;background:#fff;}
</style>
<script>
    $('.chat_add_p').click(function(){
        if($(this).next().is(':hidden')){
            $(this).next().show();
        }else{
            $(this).next().hide();
        }
        return false;
    });

    $('.bgwhite').click(function(){
        $('.chat_add_ul').hide();
    });

    $('.chat_add_ul li a').click(function(){
        var str=$(this).html();
        $('.chat_add_p').html(str);
        $(this).parent().parent().hide();
    });
</script>